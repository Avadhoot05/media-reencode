"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[129],{9233:function(e,t,a){a(7313);var n=a(5823),o=a(1387),i=(a(8282),a(4631)),r=a(6417);t.Z=function(e){var t=e.onChangeHandler;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(i.Z,{"data-testid":"file-input",type:"file",onChange:function(e){var a=e.target.files[0];return console.log("size",(0,n.bE)(a.size)),(0,n.TV)(a)?(0,n.bE)(a.size)>200?(o.Am.warn("file exceeded 200MB"),void(e.target.value="")):void t(e):(o.Am.warn("Select video file"),void(e.target.value=""))},style:{width:"100%"},inputProps:{accept:"video/*"}})})}},5269:function(e,t,a){var n=a(4165),o=a(5861),i=a(9439),r=a(9328),s=a(7313);t.Z=function(e){var t=e.url,a=e.config,c=(0,s.useState)(null),l=(0,i.Z)(c,2),d=l[0],u=l[1],p=(0,s.useState)(!1),m=(0,i.Z)(p,2),v=m[0],f=m[1],h=(0,s.useState)(!1),g=(0,i.Z)(h,2),Z=g[0],x=g[1],b=function(){var e=(0,o.Z)((0,n.Z)().mark((function e(o){var i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(null),f(!1),x(!0),e.prev=3,e.next=6,r.Z.post(t,o,a);case 6:200===(i=e.sent).status?(x(!1),u(i)):(x(!1),f(!0)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),x(!1),f(!0);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}();return[d,v,Z,b]}},9571:function(e,t,a){var n=a(7313),o=a(7829),i=a(1113),r=a(6417),s=function(e){console.log("header rendering");var t=e.heading,a=e.description;return(0,r.jsxs)(o.Z,{marginBottom:5,children:[(0,r.jsx)(i.Z,{variant:"h4",component:"h1",gutterBottom:!0,fontWeight:600,children:t}),(0,r.jsx)(i.Z,{variant:"body1",component:"p",children:a})]})};t.Z=(0,n.memo)(s)},87:function(e,t,a){a(7313);var n=a(593),o=a(7829),i=a(1113),r=a(9099),s=a(9176),c=a(8925),l=a(2539),d=a(5823),u=a(6417);t.Z=function(e){var t=e.percent,a=e.strVideoPath,p=e.action;t=isNaN(t)?0:t;var m="";return p===n.om.FPS?m="The video's FPS has been updated.":p===n.om.COMPRESS?m="The video has been compressed.":p===n.om.RESOLUTION?m="The video's resolution has been updated.":p===n.om.FORMAT&&(m="The video's format has been updated."),(0,u.jsx)(u.Fragment,{children:a.length>0?(0,u.jsxs)(o.Z,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",children:[(0,u.jsx)(i.Z,{variant:"body1",component:"p",fontSize:18,marginBottom:3,children:m}),(0,u.jsx)(r.Z,{variant:"contained",color:"primary",size:"large",endIcon:(0,u.jsx)(l.qm7,{}),onClick:function(e){(0,c.saveAs)("".concat(d.FH,"/").concat(a),"video")},children:"Download"})]}):(0,u.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh"},children:[(0,u.jsx)(s.Z,{variant:"determinate",value:t,style:{width:"100%",height:"20px",maxWidth:"400px"}}),(0,u.jsx)(i.Z,{variant:"body2",color:"textSecondary",children:"Processing ".concat(Math.ceil(t),"%")}),(0,u.jsxs)(i.Z,{variant:"body2",style:{color:"#000000",marginTop:"20px"},children:[(0,u.jsx)("span",{style:{color:"#ff0000"},children:"IMPORTANT:"})," Avoid page refresh while processing. Refreshing will necessitate video reupload."]})]})})}},6129:function(e,t,a){a.r(t);var n=a(9439),o=a(7313),i=a(9233),r=a(5269),s=(a(8282),a(7829)),c=a(9099),l=a(7903),d=a(7874),u=a(3306),p=a(6782),m=a(5480),v=a(593),f=a(87),h=a(9571),g=a(5823),Z=a(6417);t.default=function(e){var t=e.wsClient,a=[,{2:"mp4"},{3:"mov"},{4:"flv"},{5:"mkv"},{6:"avi"}],x=(0,o.useState)(""),b=(0,n.Z)(x,2),y=b[0],C=b[1],j=(0,o.useState)(null),S=(0,n.Z)(j,2),w=S[0],F=S[1],O=(0,o.useState)(""),I=(0,n.Z)(O,2),M=I[0],R=I[1],T=(0,o.useState)(0),k=(0,n.Z)(T,2),N=k[0],P=k[1],A=(0,r.Z)({url:"".concat(g.FH,"/upload"),config:v.AH}),L=(0,n.Z)(A,4),V=L[0],D=L[1],B=L[2],H=L[3],z=(0,o.useState)(!1),E=(0,n.Z)(z,2),G=E[0],q=E[1],U=(0,o.useState)(""),W=(0,n.Z)(U,2),J=W[0],K=W[1];return(0,o.useEffect)((function(){if(V){var e=v.om.FORMAT,a={FORMAT:y};t.send(JSON.stringify({type:"enque",newUploadedFileName:V.data.newUploadedFileName,uploadedFileFormat:V.data.uploadedFileFormat,action:e,actionParam:a}))}}),[V,D,B]),t.onmessage=function(e){var t=JSON.parse(e.data);if(console.log("WS message! ",t),"reencodeResponse"===t.type)q(!1),t.bSuccess?(console.log("Reencoded path >> ",t.strOutputFilePath),K(t.strOutputFilePath)):K("");else if("reencodeProgress"===t.type){var a=isNaN(t.percent)?0:parseInt(t.percent);P(a)}},(0,Z.jsx)(Z.Fragment,{children:G||0!==J.length?(0,Z.jsx)(f.Z,{percent:N,strVideoPath:J,action:v.om.FORMAT}):(0,Z.jsxs)(s.Z,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",children:[(0,Z.jsx)(h.Z,{heading:"Video Format Conversion",description:"Reencode video files by modifying the file format."}),(0,Z.jsx)("form",{onSubmit:function(e){console.log(y),e.preventDefault(),K(""),P(0),q(!0);var t=new FormData;t.append("video",w),t.append("format",(0,v.xm)(w.name,!0)),H(t)},children:(0,Z.jsxs)(s.Z,{display:"flex",flexDirection:"column",alignItems:"center",children:[(0,Z.jsx)(i.Z,{onChangeHandler:function(e){R(""),F(e.target.files[0]),console.log(y.toLowerCase(),(0,v.xm)(e.target.files[0].name,!1).toLowerCase()),y.toLowerCase()==(0,v.xm)(e.target.files[0].name,!1).toLowerCase()&&R("file is already in selected file format")}}),(0,Z.jsxs)(d.Z,{error:!!M,style:{width:"100%",margin:"15px 0"},children:[(0,Z.jsx)(u.Z,{id:"format-label",children:"Select Format"}),(0,Z.jsx)(p.Z,{"data-testid":"format-select",labelId:"format-label",value:y,onChange:function(e){R(""),C(e.target.value),w&&e.target.value.toLowerCase()==(0,v.xm)(w.name,!1).toLowerCase()&&R("file is already in selected file format")},children:a.map((function(e){var t=Object.keys(e)[0],a=e[t];return(0,Z.jsx)(l.Z,{value:a,children:a.toUpperCase()},t)}))}),""!==M&&(0,Z.jsx)(m.Z,{children:M})]}),(0,Z.jsx)(c.Z,{"data-testid":"uploadbtn",type:"submit",variant:"contained",color:"primary",disabled:""!==M||null===w||""===y,children:"upload"})]})})]})})}},593:function(e,t,a){a.d(t,{AH:function(){return n},om:function(){return i},xm:function(){return o}});var n={headers:{"content-type":"multipart/form-data"}},o=function(e,t){var a=e.split("."),n=a[a.length-1];return t?"."+n:n},i={FPS:1,RESOLUTION:2,FORMAT:3,COMPRESS:4}},7903:function(e,t,a){a.d(t,{Z:function(){return F}});var n=a(5987),o=a(4942),i=a(1413),r=a(7313),s=a(3061),c=a(1921),l=a(7551),d=a(7592),u=a(7342),p=a(1195),m=a(7999),v=a(4993),f=a(6983),h=a(7430);var g=(0,h.Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);var Z=(0,h.Z)("MuiListItemIcon",["root","alignItemsFlexStart"]);var x=(0,h.Z)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),b=a(2298);function y(e){return(0,b.Z)("MuiMenuItem",e)}var C=(0,h.Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),j=a(6417),S=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],w=(0,d.ZP)(m.Z,{shouldForwardProp:function(e){return(0,d.FO)(e)||"classes"===e},name:"MuiMenuItem",slot:"Root",overridesResolver:function(e,t){var a=e.ownerState;return[t.root,a.dense&&t.dense,a.divider&&t.divider,!a.disableGutters&&t.gutters]}})((function(e){var t,a=e.theme,n=e.ownerState;return(0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},a.typography.body1),{},{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!n.disableGutters&&{paddingLeft:16,paddingRight:16}),n.divider&&{borderBottom:"1px solid ".concat((a.vars||a).palette.divider),backgroundClip:"padding-box"}),{},(t={"&:hover":{textDecoration:"none",backgroundColor:(a.vars||a).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},(0,o.Z)(t,"&.".concat(C.selected),(0,o.Z)({backgroundColor:a.vars?"rgba(".concat(a.vars.palette.primary.mainChannel," / ").concat(a.vars.palette.action.selectedOpacity,")"):(0,l.Fq)(a.palette.primary.main,a.palette.action.selectedOpacity)},"&.".concat(C.focusVisible),{backgroundColor:a.vars?"rgba(".concat(a.vars.palette.primary.mainChannel," / calc(").concat(a.vars.palette.action.selectedOpacity," + ").concat(a.vars.palette.action.focusOpacity,"))"):(0,l.Fq)(a.palette.primary.main,a.palette.action.selectedOpacity+a.palette.action.focusOpacity)})),(0,o.Z)(t,"&.".concat(C.selected,":hover"),{backgroundColor:a.vars?"rgba(".concat(a.vars.palette.primary.mainChannel," / calc(").concat(a.vars.palette.action.selectedOpacity," + ").concat(a.vars.palette.action.hoverOpacity,"))"):(0,l.Fq)(a.palette.primary.main,a.palette.action.selectedOpacity+a.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:a.vars?"rgba(".concat(a.vars.palette.primary.mainChannel," / ").concat(a.vars.palette.action.selectedOpacity,")"):(0,l.Fq)(a.palette.primary.main,a.palette.action.selectedOpacity)}}),(0,o.Z)(t,"&.".concat(C.focusVisible),{backgroundColor:(a.vars||a).palette.action.focus}),(0,o.Z)(t,"&.".concat(C.disabled),{opacity:(a.vars||a).palette.action.disabledOpacity}),(0,o.Z)(t,"& + .".concat(g.root),{marginTop:a.spacing(1),marginBottom:a.spacing(1)}),(0,o.Z)(t,"& + .".concat(g.inset),{marginLeft:52}),(0,o.Z)(t,"& .".concat(x.root),{marginTop:0,marginBottom:0}),(0,o.Z)(t,"& .".concat(x.inset),{paddingLeft:36}),(0,o.Z)(t,"& .".concat(Z.root),{minWidth:36}),t),!n.dense&&(0,o.Z)({},a.breakpoints.up("sm"),{minHeight:"auto"})),n.dense&&(0,i.Z)((0,i.Z)({minHeight:32,paddingTop:4,paddingBottom:4},a.typography.body2),{},(0,o.Z)({},"& .".concat(Z.root," svg"),{fontSize:"1.25rem"})))})),F=r.forwardRef((function(e,t){var a=(0,u.Z)({props:e,name:"MuiMenuItem"}),o=a.autoFocus,l=void 0!==o&&o,d=a.component,m=void 0===d?"li":d,h=a.dense,g=void 0!==h&&h,Z=a.divider,x=void 0!==Z&&Z,b=a.disableGutters,C=void 0!==b&&b,F=a.focusVisibleClassName,O=a.role,I=void 0===O?"menuitem":O,M=a.tabIndex,R=a.className,T=(0,n.Z)(a,S),k=r.useContext(p.Z),N=r.useMemo((function(){return{dense:g||k.dense||!1,disableGutters:C}}),[k.dense,g,C]),P=r.useRef(null);(0,v.Z)((function(){l&&P.current&&P.current.focus()}),[l]);var A,L=(0,i.Z)((0,i.Z)({},a),{},{dense:N.dense,divider:x,disableGutters:C}),V=function(e){var t=e.disabled,a=e.dense,n=e.divider,o=e.disableGutters,r=e.selected,s=e.classes,l={root:["root",a&&"dense",t&&"disabled",!o&&"gutters",n&&"divider",r&&"selected"]},d=(0,c.Z)(l,y,s);return(0,i.Z)((0,i.Z)({},s),d)}(a),D=(0,f.Z)(P,t);return a.disabled||(A=void 0!==M?M:-1),(0,j.jsx)(p.Z.Provider,{value:N,children:(0,j.jsx)(w,(0,i.Z)((0,i.Z)({ref:D,role:I,tabIndex:A,component:m,focusVisibleClassName:(0,s.Z)(V.focusVisible,F),className:(0,s.Z)(V.root,R)},T),{},{ownerState:L,classes:V}))})}))}}]);